extends ../../layout


	
block content
	.container.body
		h3 Add trigger
		row
			form#triggerForm.col-md-4.panel.panel-default.panel-body
				input(type="hidden",name="type",value="REACTION")
				.form-group
					label(for='trigger-name') Trigger name:
					input.form-control(type='text',name='name')#trigger-name
				.form-group
					label(for='sensorId') Sensor:
					select#sensor.form-control(name='sensorId')
						each s in sensors							
							option(value='#{s._id}') #{s.name}
				.form-group
					label.control-label(for='condition') Condition					
					select#condition.form-control(name='condition')
						option(value='LESS_THAN') Is less than
						option(value='LESS_THAN_EQ') Is less or equal to				
						option(value='GREATER_THAN_EQ') Is greater or equal to
						option(value='GREATER_THAN') Is greater than
				.form-group
						label(for='value') Value:
						input.form-control(type='text')#condition-value(name='value')
				.form-group
					label.control-label(for='when') Trigger on first or every value reaching threashold
					select#option.form-control(name='when')
						option(value='FIRST_TIME') First time  
						option(value='EVERY_TIME') Every time
				
				.form-group
					label.control-label(for='action') Action					
					select#action.form-control(name='action')
						option(value='ACTION_NONE') None
						option(value='ACTION_TWITTER') Twitter
					
				#twitter-action-options.action-option.form-group
					include ../action-options.jade
				.checkbox
					label
						input(type="checkbox", checked="checked",name="enabled")#enabled
						|Enable				
				
				.form-group
					input.btn.btn-primary.btn-default#trigger-submit-btn(type='submit', value='Save')
					
			#trigger-success-status.alert.alert-success(role="alert", style="display:none;")
				strong Added successfully
		
		

block scripts
	script(src="/javascripts/triggers/reactions.js")
	script(src="/javascripts/triggers/triggers.js")